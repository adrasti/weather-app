<!DOCTYPE html><html lang=en><head><meta charset=UTF-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><title>Document</title><base href=.><script defer=defer src=main.31d6cfe0d16ae931b73c.js></script><link href=main.e9b8ae0dbb912ab9b9f6.css rel=stylesheet></head><body><div class=page><div class=text></div><div class=main><div class=cont><div class=maps><div id=map></div></div><div class=weather><div class=temp><p id=tempnum></p><p id=state></p></div><div id=sunr><p>—</p><h3>sunrise</h3></div><div id=suns><p>—</p><h3>sunset</h3></div><div id=wind><p>—</p><h3>wind</h3></div><div id=flslike><p>—</p><h3>feels like</h3></div><div id=pres><p>—</p><h3>pressure</h3></div><div id=humid><p>—</p><h3>humidity</h3></div><div id=tzone><p>—</p><h3>time zone</h3></div><div id=vbility><p>—</p><h3>visibility</h3></div></div></div></div></div><script src="https://api-maps.yandex.ru/2.1/?apikey=d2fcfcfc-0a1f-4563-b55d-8386a2084304&lang=en_RU"></script><script>function init(){myMap=new ymaps.Map("map",{center:[55.7558,37.6173],zoom:2},{balloonMaxWidth:200,searchControlProvider:"yandex#search"}),myMap.options.set("dragCursor","pointer"),myMap.events.add("click",(function(e){if(myMap.balloon.isOpen())myMap.balloon.close();else{var t=e.get("coords");myMap.balloon.open(t,{contentHeader:"Событие!",contentBody:"<p>Кто-то щелкнул по карте.</p><p>Координаты "+[t[0].toPrecision(6),t[1].toPrecision(6)].join(", ")+"</p>",contentFooter:"<sup>Щелкните еще раз</sup>"}),getW(t[1],t[0])}})),myMap.events.add("balloonopen",(function(e){myMap.hint.close()}))}async function getW(e,t){const n=await fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${t}&lon=${e}&appid=c1ae969295473bf23abb9854d63dc1ee`,{mode:"cors"}),o=await n.json(),r=document.querySelector(".text");let i,c="";if(o.name?c+=o.name:c+="Unknown",o.sys.country){let e=await fetch(`https://restcountries.com/v3.1/alpha/${o.sys.country.toLowerCase()}`,{mode:"cors"});e=await e.json(),c=c+", "+e[0].name.common}r.textContent=c,document.querySelector("#tempnum").textContent=String((Number(o.main.temp)-273.15).toFixed(1))+"°",document.querySelector("#state").textContent=o.weather[0].description,i=Number(o.timezone)>=0?"GMT+"+String((Number(o.timezone)/3600).toFixed(0)):"GMT"+String((Number(o.timezone)/3600).toFixed(0)),document.querySelector("#sunr p").textContent=convertTime(o.sys.sunrise,o.timezone),document.querySelector("#suns p").textContent=convertTime(o.sys.sunset,o.timezone),document.querySelector("#wind p").textContent=String(o.wind.speed)+" meter/sec",document.querySelector("#flslike p").textContent=String((Number(o.main.feels_like)-273.15).toPrecision(3))+"°",document.querySelector("#pres p").textContent=String((.02953*Number(o.main.pressure)).toFixed(1))+" inHg",document.querySelector("#humid p").textContent=String(o.main.humidity)+"%",document.querySelector("#tzone p").textContent=i,document.querySelector("#vbility p").textContent=String((Number(o.visibility)/1e3).toFixed(1))+" km"}function convertTime(e,t){return new Date(1e3*(e+t-10800)).toString().slice(16,24)}ymaps.ready(init)</script></body></html>